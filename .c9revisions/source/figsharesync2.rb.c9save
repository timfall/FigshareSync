{"ts":1366580700512,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"#!/usr/bin/ruby\n\nrequire 'json'\nrequire 'oauth'\n#require '../lib/OauthFigsharesync'\n#require '../lib/FigshareClasses'\n\nworkingdir = \"~/.figsharesync/\"\nconsumerkey\nconsumersecret\naccesstoken\naccesstokensecret\nlocalarticlelist\n\n#First run setup\nabsworkingdir = File.expand_path(workingdir)\nif File.exist?(\"#{absworkingdir}/FirstRun.lock\")\n  break\nelse\n    puts \"This appears to be the first run of FigShare Sync. We'll setup a few things.\"\n\tprint \"Where would you like to store settings and files? [~./figsharesync]: \"\n\t@input = gets.chomp\n\t\tif @input != nil\n\t\t\tworkingdir = @input\n\t\t\tabsworkingdir = File.expand_path(workingdir)\n\t\telse\n\t\t\tbreak\n\t\tend\n\tprint \"Please enter OAuth consumer key: \"\n\tconsumerkey = gets.chomp\n\tprint \"Please enter OAuth consumer key secret: \"\n\tconsumersecret = gets.chomp\n\tprint \"Please enter OAuth access token: \"\n\taccesstoken = gets.chomp\n\tprint \"Please enter OAuth access token secret: \"\n\taccesstokensecret = gets.chomp\n\tputs \"Great! we'll get running now...\"\n\tFile.new(\"#{absworkingdir}/FirstRun.lock\", \"r\")\nend\n#oauth authenticate\nauth = OauthFighshare.new(consumerkey, consumersecret, accesstoken, accesstokensecret)\n\tif auth.header (v1/my_data/articles) == Net::HTTPUnauthorized\n\t\tputs \"Figshare returned #{auth.header (v1/my_data/articles)}\"\n\tend\nputs \"Successfully authenticated\"\n\n#Create article database and populate from local sources\nif File.exists?(\"#{absworkingdir}/localdb.json\")\n\tputs \"Local database detected, populating from there\"\n\tldb = JSON.parse(\"#{absworkingdir}/localdb.json\")\n\t@i = ldb['count']\n\tfor @i.times do\n\t\tlocalarticlelist[i] = Article.new(ldb[i].name, \"#{absworkingdir}/localdb/#{ldb[i].name}\", ldb[i].id, ldb[i].title, ldb[i].description, ldb[i].defined_type)\n\tdone\n\tputs \"Done populating the local list from local database\"\nelse\n\tputs \"No local database detected, grabbing one from the server\"\n\tldb = auth.get('v1/my_data/articles')\n\tldb = JSON.parse(ldb.body)\n\t@local = File.new(\"#{absworkingdir}/localdb.json\", \"w\")\n\t@local << ldb\n\ti = ldb['count']\n\tfor i.times do\n\t\tlocalarticlelist[i] = Article.new(ldb[i].name, \"#{absworkingdir}/localdb/#{ldb[i].name}\", ldb[i].id, ldb[i].title, ldb[i].description, ldb[i].defined_type)\n\tdone\n\tputs \"Local database file created and populated from server\"\ndone\n\n#Compare local and remote databses for differences\nrdb = auth.get('v1/my_data/articles')\nrdb = JSON.parse(rdb.body)\ni = rdb[count]\nr = ldb[count]\nfor i.times do\n\tremotearticlelist[i] = Article.new(rdb[i].name, \"v1/my_data/articles/#{ldb[i].name}\", rdb[i].id, rdb[i].title, rdb[i].description, rdb[i].defined_type)\ndone\nfor i.times do\n\tfor r.times do\n\t@remotehash = remotearticlelist[i].hash\n\t@localhash = localarticlelist[r].hash\n\tif rdb[i].id == ldb[r].id\n\t\tif @remotehash != @localhash\n\t\t\tputs \"Hash mismatch! #{remotearticlelist[i].name} and #{localarticlelist[r].name} do not match\"\n\t\t\tif File.mtime(remotearticlelist[i].path) >= File.mtime(localarticlelist[r].path)#If remote version is newer than local\n\t\t\t\tFile.new('#{absworkingdir}/localdb/#{remotearticlelist[i].name}', \"w\") = auth.get(remotearticlelist[i].path)#download remote version\n\t\t\t\tlocalarticlelist[r] = Article.new(rdb[i].name, \"#{absworkingdir}/localdb/#{rbd[i].name}\", rbd[i].id)#create new local article entry\n\t\t\t\tdownload = auth.get(remotearticlelist[i].path)\n\t\t\t\tdownload = JSON.parse(download.body)\n\t\t\t\t@local = File.read(\"#{absworkingdir}/localdb.json\")\n\t\t\t\t@local.gsub(/pattern/) { matchmatchmatch } #replace entry in localdb.json\n\t\t\tend\n\t\t\telsif File.mtime(remotearticlelist[i].path) <= File.mtime(localarticlelist[r].path)#If local version is newer than remote\n\t\t\t\tlocalfile = JSON.pretty_generate('Title' => localarticlelist[r].title, 'description' => localarticlelist[r].description, 'defined_type' => localarticlelist[r].defined_type)#generate a json list from the object\n\t\t\t\tauth.post('v1/my_data/articles/', localfile, {\"Content-Type\" => \"application/json\"})#upload json list\n\t\t\tend\n\t\tend\n\tend\n\tnext\n\tdone\ndone\nputs \"All hashes match\""]],"start1":0,"start2":0,"length1":0,"length2":3980}]],"length":3980}
{"contributors":[],"silentsave":false,"ts":1366580812438,"patch":[[{"diffs":[[0,"'oauth'\n"],[-1,"#"],[0,"require "]],"start1":40,"start2":40,"length1":17,"length2":16},{"diffs":[[0,"resync'\n"],[-1,"#"],[0,"require "]],"start1":75,"start2":75,"length1":17,"length2":16}]],"length":3978,"saved":false}
{"ts":1366582322610,"patch":[[{"diffs":[[0,"b.json\")"],[1," do"],[0,"\n\tputs \""]],"start1":1411,"start2":1411,"length1":16,"length2":19},{"diffs":[[0,"type)\n\tdone\n"],[1,"done\n"],[0,"\tputs \"Done "]],"start1":1717,"start2":1717,"length1":24,"length2":29}]],"length":3986,"saved":false}
{"ts":1366582552938,"patch":[[{"diffs":[[0,"b.json\")"],[-1," do"],[0,"\n\tputs \""]],"start1":1411,"start2":1411,"length1":19,"length2":16},{"diffs":[[0,")\n\tdone\n"],[-1,"done\n"],[0,"\tputs \"D"]],"start1":1718,"start2":1718,"length1":21,"length2":16}]],"length":3978,"saved":false}
{"ts":1366582665790,"patch":[[{"diffs":[[0,"server\"\n"],[-1,"done"],[1,"end"],[0,"\n\n#Compa"]],"start1":2246,"start2":2246,"length1":20,"length2":19}]],"length":3977,"saved":false}
{"ts":1366582991075,"patch":[[{"diffs":[[0,"b.json\")"],[1," then"],[0,"\n\tputs \""]],"start1":1411,"start2":1411,"length1":16,"length2":21}]],"length":3982,"saved":false}
{"ts":1366583017778,"patch":[[{"diffs":[[0,"tabase\"\n"],[1,"end\n"],[0,"else\n\tpu"]],"start1":1782,"start2":1782,"length1":16,"length2":20}]],"length":3986,"saved":false}
{"ts":1366583121405,"patch":[[{"diffs":[[0,"ist[r].path)"],[1," then"],[0,"#If remote v"]],"start1":2926,"start2":2926,"length1":24,"length2":29}]],"length":3991,"saved":false}
{"ts":1366583244010,"patch":[[{"diffs":[[0,"tabase\"\n"],[-1,"end\n"],[0,"else\n\tpu"]],"start1":1782,"start2":1782,"length1":20,"length2":16}]],"length":3987,"saved":false}
{"ts":1366583265133,"patch":[[{"diffs":[[0,"tabase\"\n"],[1,"end\n"],[0,"else\n\tpu"]],"start1":1782,"start2":1782,"length1":16,"length2":20}]],"length":3991,"saved":false}
{"ts":1366584285571,"patch":[[{"diffs":[[0,"ase\"\nend"],[-1,"\n"],[1," "],[0,"else\n\tpu"]],"start1":1785,"start2":1785,"length1":17,"length2":17}]],"length":3991,"saved":false}
{"ts":1366584308726,"patch":[[{"diffs":[[0,"ase\"\nend"],[-1," "],[1,"\n"],[0,"else\n\tpu"]],"start1":1785,"start2":1785,"length1":17,"length2":17}]],"length":3991,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366598636160,"patch":[[{"diffs":[[0,".defined_type)\n\t"],[-1,"done"],[1,"end"],[0,"\n\tputs \"Done pop"]],"start1":1710,"start2":1710,"length1":36,"length2":35},{"diffs":[[0,"_type)\n\t"],[-1,"done"],[1,"end"],[0,"\n\tputs \""]],"start1":2187,"start2":2187,"length1":20,"length2":19},{"diffs":[[0,"d_type)\n"],[-1,"done"],[1,"end"],[0,"\nfor i.t"]],"start1":2572,"start2":2572,"length1":20,"length2":19},{"diffs":[[0,"xt\n\t"],[-1,"done\ndone"],[1,"end\nend"],[0,"\nput"]],"start1":3951,"start2":3951,"length1":17,"length2":15}]],"length":3986,"saved":false}
{"ts":1366600141705,"patch":[[{"diffs":[[0,"b.json\")"],[-1," then"],[0,"\n\tputs \""]],"start1":1411,"start2":1411,"length1":21,"length2":16},{"diffs":[[0,"tabase\"\n"],[-1,"end\n"],[0,"else\n\tpu"]],"start1":1776,"start2":1776,"length1":20,"length2":16},{"diffs":[[0,"db.json\n"],[-1,"\t\t\tend\n"],[0,"\t\t\telsif"]],"start1":3461,"start2":3461,"length1":23,"length2":16}]],"length":3970,"saved":false}
{"ts":1366600502496,"patch":[[{"diffs":[[0,"]\n\tfor @i.times "],[-1,"do\n\t\t"],[1,"{"],[0,"localarticlelist"]],"start1":1543,"start2":1543,"length1":37,"length2":33},{"diffs":[[0,"i].defined_type)"],[-1,"\n\tend"],[1,"}"],[0,"\n\tputs \"Done pop"]],"start1":1699,"start2":1699,"length1":37,"length2":33}]],"length":3962,"saved":false}
{"ts":1366600516822,"patch":[[{"diffs":[[0,"mes "],[-1,"do\n\t\t"],[1,"{"],[0,"loca"]],"start1":2012,"start2":2012,"length1":13,"length2":9},{"diffs":[[0,"ed_type)"],[-1,"\n\tend"],[1,"}"],[0,"\n\tputs \""]],"start1":2164,"start2":2164,"length1":21,"length2":17}]],"length":3954,"saved":false}
{"ts":1366600678336,"patch":[[{"diffs":[[0,"]\n\tfor @i.times "],[-1,"{"],[1,"do\n\t\t"],[0,"localarticlelist"]],"start1":1543,"start2":1543,"length1":33,"length2":37},{"diffs":[[0,"i].defined_type)"],[-1,"}"],[1,"\n\tend"],[0,"\n\tputs \"Done pop"]],"start1":1703,"start2":1703,"length1":33,"length2":37},{"diffs":[[0,"tabase\"\n"],[1,"end\n"],[0,"else\n\tpu"]],"start1":1776,"start2":1776,"length1":16,"length2":20},{"diffs":[[0,"i.times "],[-1,"{"],[1,"do\n\t\t"],[0,"localart"]],"start1":2020,"start2":2020,"length1":17,"length2":21},{"diffs":[[0,"ed_type)"],[-1,"}"],[1,"\n\tend"],[0,"\n\tputs \""]],"start1":2180,"start2":2180,"length1":17,"length2":21}]],"length":3974,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366663261931,"patch":[[{"diffs":[[0,"tabase\"\n"],[-1,"end\n"],[0,"else\n\tpu"]],"start1":1776,"start2":1776,"length1":20,"length2":16}]],"length":3970,"saved":false}
{"ts":1366663484327,"patch":[[{"diffs":[[0,"break\n\t\t"],[1,"#"],[0,"end\n\tpri"]],"start1":636,"start2":636,"length1":16,"length2":17}]],"length":3971,"saved":false}
{"ts":1366663496853,"patch":[[{"diffs":[[0,"break\n\t\t"],[-1,"#"],[0,"end\n\tpri"]],"start1":636,"start2":636,"length1":17,"length2":16}]],"length":3970,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366825427974,"patch":[[{"diffs":[[0,"_type)\n\tend\n"],[1,"    \n"],[0,"\tputs \"Done "]],"start1":1713,"start2":1713,"length1":24,"length2":29}]],"length":3975,"saved":false}
{"ts":1366825447685,"patch":[[{"diffs":[[0,"end\n"],[-1,"    \n"],[0,"\tput"]],"start1":1721,"start2":1721,"length1":13,"length2":8}]],"length":3970,"saved":false}
{"ts":1366825674709,"patch":[[{"diffs":[[0,"sources\n"],[-1,"if "],[0,"File.exi"]],"start1":1363,"start2":1363,"length1":19,"length2":16}]],"length":3967,"saved":false}
{"ts":1366825687177,"patch":[[{"diffs":[[0,"ount']\n\t"],[-1,"for "],[0,"@i.times"]],"start1":1535,"start2":1535,"length1":20,"length2":16}]],"length":3963,"saved":false}
{"ts":1366825724611,"patch":[[{"diffs":[[0,"ount']\n\t"],[-1,"for "],[0,"i.times "]],"start1":1997,"start2":1997,"length1":20,"length2":16}]],"length":3959,"saved":false}
{"ts":1366825792499,"patch":[[{"diffs":[[0,"type)\n\tend\n\t"],[1,"#"],[0,"puts \"Done p"]],"start1":1707,"start2":1707,"length1":24,"length2":25},{"diffs":[[0,")\n\tend\n\t"],[1,"#"],[0,"puts \"Lo"]],"start1":2173,"start2":2173,"length1":16,"length2":17}]],"length":3961,"saved":false}
{"ts":1366825804861,"patch":[[{"diffs":[[0,"type)\n\tend\n\t"],[-1,"#"],[0,"puts \"Done p"]],"start1":1707,"start2":1707,"length1":25,"length2":24},{"diffs":[[0,")\n\tend\n\t"],[-1,"#"],[0,"puts \"Lo"]],"start1":2172,"start2":2172,"length1":17,"length2":16}]],"length":3959,"saved":false}
{"ts":1366827286380,"patch":[[{"diffs":[[0,"b.json\")"],[1," {"],[0,"\n\tputs \""]],"start1":1408,"start2":1408,"length1":16,"length2":18},{"diffs":[[0,"tabase\"\n"],[1,"}\n#"],[0,"else\n\tpu"]],"start1":1771,"start2":1771,"length1":16,"length2":19}]],"length":3964,"saved":false}
{"ts":1366827292451,"patch":[[{"diffs":[[0,"server\"\n"],[1,"#"],[0,"end\n\n#Co"]],"start1":2238,"start2":2238,"length1":16,"length2":17}]],"length":3965,"saved":false}
{"ts":1366827306228,"patch":[[{"diffs":[[0,"[count]\n"],[-1,"for "],[0,"i.times "]],"start1":2390,"start2":2390,"length1":20,"length2":16}]],"length":3961,"saved":false}
{"ts":1366827335977,"patch":[[{"diffs":[[0,"].path) "],[-1,"then"],[1,"do"],[0,"#If remo"]],"start1":2910,"start2":2910,"length1":20,"length2":18}]],"length":3959,"saved":false}
{"ts":1366827362544,"patch":[[{"diffs":[[0,"].path) "],[-1,"do"],[1,"then"],[0,"#If remo"]],"start1":2910,"start2":2910,"length1":18,"length2":20}]],"length":3961,"saved":false}
{"ts":1366827517521,"patch":[[{"diffs":[[0,"', \"w\") "],[-1,"= "],[1,"{|file| file.write("],[0,"auth.get"]],"start1":3028,"start2":3028,"length1":18,"length2":35},{"diffs":[[0,"i].path)"],[1,")}"],[0,"#downloa"]],"start1":3082,"start2":3082,"length1":16,"length2":18}]],"length":3980,"saved":false}
{"ts":1366827561527,"patch":[[{"diffs":[[0,"d\n\tend\n\t"],[1,"#"],[0,"next\n\ten"]],"start1":3935,"start2":3935,"length1":16,"length2":17}]],"length":3981,"saved":false}
{"ts":1366827620687,"patch":[[{"diffs":[[0,"imes do\n"],[1,"    "],[0,"\t@remote"]],"start1":2589,"start2":2589,"length1":16,"length2":20},{"diffs":[[0,"i].hash\n"],[1,"    "],[0,"\t@localh"]],"start1":2634,"start2":2634,"length1":16,"length2":20},{"diffs":[[0,"r].hash\n"],[1,"    "],[0,"\tif rdb["]],"start1":2677,"start2":2677,"length1":16,"length2":20},{"diffs":[[0,"b[r].id\n"],[1,"    "],[0,"\t\tif @re"]],"start1":2708,"start2":2708,"length1":16,"length2":20},{"diffs":[[0,"calhash\n"],[1,"    "],[0,"\t\t\tputs "]],"start1":2743,"start2":2743,"length1":16,"length2":20},{"diffs":[[0," match\"\n"],[1,"    "],[0,"\t\t\tif Fi"]],"start1":2846,"start2":2846,"length1":16,"length2":20},{"diffs":[[0,"n local\n"],[1,"    "],[0,"\t\t\t\tFile"]],"start1":2977,"start2":2977,"length1":16,"length2":20},{"diffs":[[0,"version\n"],[1,"    "],[0,"\t\t\t\tloca"]],"start1":3137,"start2":3137,"length1":16,"length2":20},{"diffs":[[0,"e entry\n"],[1,"    "],[0,"\t\t\t\tdown"]],"start1":3277,"start2":3277,"length1":16,"length2":20},{"diffs":[[0,"].path)\n"],[1,"    "],[0,"\t\t\t\tdown"]],"start1":3332,"start2":3332,"length1":16,"length2":20},{"diffs":[[0,"d.body)\n"],[1,"    "],[0,"\t\t\t\t@loc"]],"start1":3377,"start2":3377,"length1":16,"length2":20},{"diffs":[[0,".json\")\n"],[1,"    "],[0,"\t\t\t\t@loc"]],"start1":3437,"start2":3437,"length1":16,"length2":20},{"diffs":[[0,"db.json\n"],[1,"    "],[0,"\t\t\telsif"]],"start1":3519,"start2":3519,"length1":16,"length2":20},{"diffs":[[0," remote\n"],[1,"    "],[0,"\t\t\t\tloca"]],"start1":3648,"start2":3648,"length1":16,"length2":20},{"diffs":[[0," object\n"],[1,"    "],[0,"\t\t\t\tauth"]],"start1":3866,"start2":3866,"length1":16,"length2":20},{"diffs":[[0,"ist\n"],[1,"    "],[0,"\t\t\tend\n"],[1,"    "],[0,"\t\tend\n"],[1,"    "],[0,"\tend"]],"start1":3980,"start2":3980,"length1":21,"length2":33}]],"length":4053,"saved":false}
{"ts":1366827631846,"patch":[[{"diffs":[[0,"  \tend\n\t"],[-1,"#"],[0,"next\n\ten"]],"start1":4007,"start2":4007,"length1":17,"length2":16}]],"length":4052,"saved":false}
{"ts":1366827759740,"patch":[[{"diffs":[[0,"pe)\nend\n"],[-1,"for "],[0,"i.times "]],"start1":2558,"start2":2558,"length1":20,"length2":16},{"diffs":[[0," do\n"],[-1,"\tfor"],[1,"   "],[0," r.t"]],"start1":2573,"start2":2573,"length1":12,"length2":11},{"diffs":[[0,"imes do\n"],[-1,"    "],[0,"\t@remote"]],"start1":2584,"start2":2584,"length1":20,"length2":16},{"diffs":[[0,"i].hash\n"],[-1,"    "],[0,"\t@localh"]],"start1":2625,"start2":2625,"length1":20,"length2":16},{"diffs":[[0,"r].hash\n"],[-1,"    "],[0,"\tif rdb["]],"start1":2664,"start2":2664,"length1":20,"length2":16},{"diffs":[[0,"b[r].id\n"],[-1,"    "],[0,"\t\tif @re"]],"start1":2691,"start2":2691,"length1":20,"length2":16},{"diffs":[[0,"calhash\n"],[-1,"    "],[0,"\t\t\tputs "]],"start1":2722,"start2":2722,"length1":20,"length2":16},{"diffs":[[0," match\"\n"],[-1,"    "],[0,"\t\t\tif Fi"]],"start1":2821,"start2":2821,"length1":20,"length2":16},{"diffs":[[0,"n local\n"],[-1,"    "],[0,"\t\t\t\tFile"]],"start1":2948,"start2":2948,"length1":20,"length2":16},{"diffs":[[0,"].path))"],[-1,"}"],[0,"#downloa"]],"start1":3078,"start2":3078,"length1":17,"length2":16},{"diffs":[[0,"version\n"],[-1,"    "],[0,"\t\t\t\tloca"]],"start1":3103,"start2":3103,"length1":20,"length2":16},{"diffs":[[0,"e entry\n"],[-1,"    "],[0,"\t\t\t\tdown"]],"start1":3239,"start2":3239,"length1":20,"length2":16},{"diffs":[[0,"].path)\n"],[-1,"    "],[0,"\t\t\t\tdown"]],"start1":3290,"start2":3290,"length1":20,"length2":16},{"diffs":[[0,"d.body)\n"],[-1,"    "],[0,"\t\t\t\t@loc"]],"start1":3331,"start2":3331,"length1":20,"length2":16},{"diffs":[[0,".json\")\n"],[-1,"    "],[0,"\t\t\t\t@loc"]],"start1":3387,"start2":3387,"length1":20,"length2":16},{"diffs":[[0,"db.json\n"],[-1,"    "],[0,"\t\t\telsif"]],"start1":3465,"start2":3465,"length1":20,"length2":16},{"diffs":[[0," remote\n"],[-1,"    "],[0,"\t\t\t\tloca"]],"start1":3590,"start2":3590,"length1":20,"length2":16},{"diffs":[[0," object\n"],[-1,"    "],[0,"\t\t\t\tauth"]],"start1":3804,"start2":3804,"length1":20,"length2":16},{"diffs":[[0,"ist\n"],[-1,"    "],[0,"\t\t\tend\n"],[-1,"    "],[0,"\t\tend\n"],[-1,"    "],[0,"\tend"]],"start1":3914,"start2":3914,"length1":33,"length2":21}]],"length":3974,"saved":false}
{"ts":1366827923490,"patch":[[{"diffs":[[0,"ath)"],[-1," then"],[0,"#If "]],"start1":2908,"start2":2908,"length1":13,"length2":8}]],"length":3969,"saved":false}
{"ts":1366828067842,"patch":[[{"diffs":[[0,".json\")\n\t\t\t\t"],[1,"#"],[0,"@local.gsub("]],"start1":3382,"start2":3382,"length1":24,"length2":25}]],"length":3970,"saved":false}
{"ts":1366828177622,"patch":[[{"diffs":[[0,"].path))"],[1,"}"],[0,"#downloa"]],"start1":3073,"start2":3073,"length1":16,"length2":17}]],"length":3971,"saved":false}
{"ts":1366828298184,"patch":[[{"diffs":[[0,"k\")\n"],[-1,"  break\n"],[0,"else"]],"start1":331,"start2":331,"length1":16,"length2":8}]],"length":3963,"saved":false}
{"ts":1366828319475,"patch":[[{"diffs":[[0,"ck\")"],[-1,"\nelse"],[1," == no"],[0,"\n   "]],"start1":330,"start2":330,"length1":13,"length2":14}]],"length":3964,"saved":false}
{"ts":1366828345705,"patch":[[{"diffs":[[0,"ck\") == "],[-1,"no"],[1,"false"],[0,"\n    put"]],"start1":330,"start2":330,"length1":18,"length2":21}]],"length":3967,"saved":false}
{"ts":1366828358401,"patch":[[{"diffs":[[0,"ir)\n"],[-1,"\t\telse\n\t\t\tbreak\n"],[0,"\t\ten"]],"start1":618,"start2":618,"length1":24,"length2":8}]],"length":3951,"saved":false}
{"ts":1366828400062,"patch":[[{"diffs":[[0,"Figshare"],[-1,"sync"],[0,"'\nrequir"]],"start1":69,"start2":69,"length1":20,"length2":16}]],"length":3947,"saved":false}
{"ts":1366828457209,"patch":[[{"diffs":[[0,"Figshare"],[1,".rb"],[0,"'\nrequir"]],"start1":69,"start2":69,"length1":16,"length2":19}]],"length":3950,"saved":false}
{"ts":1366828471352,"patch":[[{"diffs":[[0,"hare"],[-1,".rb"],[0,"'\nre"]],"start1":73,"start2":73,"length1":11,"length2":8}]],"length":3947,"saved":false}
{"ts":1366828778302,"patch":[[{"diffs":[[0,"'oauth'\n"],[1,"#"],[0,"require "]],"start1":40,"start2":40,"length1":16,"length2":17}]],"length":3948,"saved":false}
{"ts":1366828791873,"patch":[[{"diffs":[[0,"'oauth'\n"],[-1,"#"],[0,"require "]],"start1":40,"start2":40,"length1":17,"length2":16}]],"length":3947,"saved":false}
{"ts":1366828890054,"patch":[[{"diffs":[[0,"'\nrequire '."],[-1,"."],[0,"/lib/OauthFi"]],"start1":46,"start2":46,"length1":25,"length2":24},{"diffs":[[0,"quire '."],[-1,"."],[0,"/lib/Fig"]],"start1":80,"start2":80,"length1":17,"length2":16}]],"length":3945,"saved":false}
{"ts":1366830033876,"patch":[[{"diffs":[[0,"sumerkey"],[1," = nil"],[0,"\nconsume"]],"start1":146,"start2":146,"length1":16,"length2":22},{"diffs":[[0,"ersecret"],[1," = nil"],[0,"\naccesst"]],"start1":167,"start2":167,"length1":16,"length2":22},{"diffs":[[0,"esstoken"],[1," = nil"],[0,"\naccesst"]],"start1":185,"start2":185,"length1":16,"length2":22},{"diffs":[[0,"ensecret"],[1," = nil"],[0,"\nlocalar"]],"start1":209,"start2":209,"length1":16,"length2":22},{"diffs":[[0,"iclelist"],[1," = nil"],[0,"\n\n#First"]],"start1":232,"start2":232,"length1":16,"length2":22}]],"length":3975,"saved":false}
